<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Revelation of Absence - Esa Editions</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Libre+Baskerville:wght@400;700&display=swap');
    :root {
      --parchment: #f5f0e5;
      --ink: #1a1a1a;
      --gilt: #8c7851;
      --blood: #5c0000;
    }
    body {
      background: #111;
      font-family: 'Libre Baskerville', serif;
      color: var(--ink);
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:1rem;
    }
    .book-slipcase {
      background:#050505;
      box-shadow:0 20px 40px rgba(0,0,0,0.8);
      border-radius:8px;
      max-width:700px;
      width:100%;
    }
    .book-cover {
      background:var(--parchment);
      border-radius:6px;
      box-shadow:inset 0 0 40px rgba(0,0,0,0.1);
      padding:1.5rem;
    }
    .title {font-family:'Cormorant Garamond',serif; font-weight:700;}
    .btn {
      font-family:'Cormorant Garamond',serif;
      border:1px solid var(--ink);
      padding:.5rem 1.2rem;
      transition:.3s;
      border-radius:6px;
    }
    .btn:hover {background:rgba(0,0,0,0.05);}
    .btn-no {background:#000; color:#fff; border:1px solid #000;}
    .btn-no:hover {background:#222;}
    .mega-text-wrapper {max-height:60vh; overflow-y:auto; margin-top:1rem; padding:.5rem;}
    .mega-text {white-space:pre-line; text-align:center; font-size:.9rem;}
    @media (max-width:640px){
      .page {padding:1rem !important;}
      .title {font-size:1.5rem;}
      .mega-text {font-size:.8rem;}
    }
  </style>
</head>
<body>
  <!-- Backsound -->
  <audio id="bgm" autoplay loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/10/18/audio_1c6a3c1d2d.mp3?filename=romantic-piano-124477.mp3" type="audio/mpeg">
  </audio>

  <div class="book-slipcase">
    <div class="book-cover">
      <!-- Main Page -->
      <div id="main-page" class="page">
        <h1 class="title text-2xl text-center mb-6">Do I Miss You?</h1>
        <p class="text-center mb-6">The question echoes through the hollow chambers of the heart. To confess or deny â€” both choices revealing in their own manner.</p>
        <div class="flex flex-col space-y-3 w-full max-w-xs mx-auto">
          <button onclick="showYesPage()" class="btn">Yes, I Miss You</button>
          <button onclick="denyClicked()" class="btn btn-no">No, I Don't</button>
        </div>
      </div>

      <!-- Yes Page -->
      <div id="yes-page" class="page hidden">
        <h2 class="title text-xl text-center mb-4">Confession</h2>
        <p class="text-center">The heart's truth spills forth unbidden, an endless cascade of longing:</p>
        <div class="mega-text-wrapper">
          <div class="mega-text" id="repeat-text"></div>
        </div>
        <button onclick="backToMain()" class="btn mx-auto block mt-4">Return to Query</button>
      </div>
    </div>
  </div>

  <script>
    const tl = gsap.timeline();
    function showYesPage(){
      tl.to("#main-page", {opacity:0, y:20, duration:.6, ease:"power2.in", onComplete:()=>{
        document.getElementById('main-page').classList.add('hidden');
        let text='', phrase='Aku kangen pol sama kamu\n', totalLines=300;
        for(let i=0;i<totalLines;i++){text+=phrase; if(i%20===0) text+='\n';}
        document.getElementById('repeat-text').textContent=text;
        document.getElementById('yes-page').style.opacity=0;
        document.getElementById('yes-page').classList.remove('hidden');
        tl.fromTo("#yes-page",{opacity:0,y:20},{opacity:1,y:0,duration:.8,ease:"power3.out"});
      }});
    }
    function backToMain(){
      const currentPage=document.querySelector('.page:not(.hidden)');
      tl.to(currentPage,{opacity:0,y:20,duration:.6,ease:"power2.in",onComplete:()=>{
        document.getElementById('yes-page').classList.add('hidden');
        document.getElementById('main-page').style.opacity=0;
        document.getElementById('main-page').classList.remove('hidden');
        tl.fromTo("#main-page",{opacity:0,y:20},{opacity:1,y:0,duration:.8,ease:"power3.out"});
      }});
    }
    function denyClicked(){alert("Mana mungkin!");}
    document.addEventListener('DOMContentLoaded',()=>{
      gsap.from(".book-slipcase",{opacity:0,y:40,duration:1,ease:"power3.out"});
      const bgm=document.getElementById('bgm'); bgm.volume=0.5;
    });
  </script>
</body>
</html>
